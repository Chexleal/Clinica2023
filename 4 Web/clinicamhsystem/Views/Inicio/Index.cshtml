@using ClinicaDomain;
@using Newtonsoft.Json;
@model clinicaWeb.Models.InicioViewModel;

@{
    ViewData["Title"] = "Inicio";
}
@section Links{
    <link rel="stylesheet" href="~/css/pages/Inicio.css" asp-append-version="true" />
}

<!-- Tablas -->
<div class="card w-100 shadow-lg mt-5 mb-3" id="tablas_inicio">
    <div class="card-body">
        <div class="d-flex justify-content-between">
            <div class="p-2 text-center">
                <div class="card-title text-center">Consultas Abiertas</div>
                <div class="card-text text-center display-4">
                    @Model.ConsultasAbiertas
                </div>
            </div>
            <div class="p-2">
                <div class="card-title text-center">Consultas Pendientes de Pago</div>
                <div class="card-text text-center display-4">
                    @Model.ConsultasPendientesPago
                </div>
            </div>
            <div class="p-2">
                <div class="card-title text-center">Citas Para Hoy</div>
                <div class="card-text text-center display-4">
                    @Model.CitasParaHoy
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Estadisticas -->
<div id="estadisticas_inicio">
    <div>
        <div class="d-flex justify-content-between text-center">
            <input type="hidden" id="labels" value='@Html.Raw(Json.Serialize(Model.Labels))'>
            <input type="hidden" id="dataConsultas" value='@Html.Raw(Json.Serialize(Model.DataConsultas))'>
            <input type="hidden" id="dataIngresos" value='@Html.Raw(Json.Serialize(Model.DataIngresos))'>
            <div class="card w-100 shadow-lg mt-5 pt-2" id="estadisticas_inicio">
                Consultas en los últimos tres meses
               <div class="card-body pt-0">
                    <canvas id="graficaConsultas"></canvas>
                </div>
            </div>
            <div id="chart-separator">
                </div>
            <div class="card w-100 shadow-lg mt-5 pt-2" id="estadisticas_inicio">
                Ingresos de los últimos tres meses
                <div class="card-body pt-0">
                    <canvas id="graficaIngresos"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
</script>


@section Scripts{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.0.1/chart.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="~/js/pages/inicio.js" asp-append-version="true"></script>
}